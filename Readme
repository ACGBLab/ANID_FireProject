# Pautas para la MitigaciÃ³n del Peligro de Incendios Forestales Basadas en la FenologÃ­a de Combustibles

Este repositorio contiene los scripts en R desarrollados para el proyecto **"Pautas para la mitigaciÃ³n del peligro de incendios forestales basadas en la fenologÃ­a y condiciÃ³n estacional de los combustibles. InvestigaciÃ³n aplicada a Chile Centro-Sur"** (ANID PINC230012).

El objetivo de este proyecto es caracterizar el ciclo fenolÃ³gico de diferentes modelos de combustible vegetal para identificar ventanas de alta vulnerabilidad a incendios y optimizar la planificaciÃ³n de intervenciones silvÃ­colas preventivas.

## ğŸ“‹ Requisitos

Para ejecutar los anÃ¡lisis contenidos en este repositorio, necesitarÃ¡s:

1.  **Software**:
    * [**R**](https://www.r-project.org/) (versiÃ³n 4.0 o superior)
    * [**RStudio**](https://posit.co/download/rstudio-desktop/) (recomendado)

2.  **Paquetes de R**:
    Los scripts dependen de varios paquetes. Puedes instalarlos todos ejecutando el siguiente comando en tu consola de R:
    ```R
    install.packages(c("sf", "tidyverse", "raster", "readxl", "rgee", "greenbrown", "strucchange", "lubridate", "stringr"))
    ```

3.  **Cuenta de Google Earth Engine**:
    El script `3_series_de_tiempo_rgee.R` requiere una cuenta de Google Earth Engine (GEE) activa. Si no tienes una, puedes registrarte [aquÃ­](https://earthengine.google.com/signup/). La primera vez que ejecutes el script, `rgee` te guiarÃ¡ en el proceso de autenticaciÃ³n.

---

## ğŸ“‚ Estructura del Repositorio

Para asegurar la reproducibilidad, se recomienda la siguiente estructura de carpetas en tu proyecto:

````

.
â”œâ”€â”€ datos/
â”‚   â”œâ”€â”€ entrada/       \# Archivos de entrada (ej. Puntos\_Finales.xlsx)
â”‚   â”œâ”€â”€ raster/        \# (Opcional si se usa GEE) Datos raster locales
â”‚   â””â”€â”€ vectoriales/   \# Datos vectoriales (ej. shapefile de comunas)
â”œâ”€â”€ resultados/        \# Carpeta para guardar todos los archivos generados por los scripts
â”œâ”€â”€ scripts/           \# Carpeta para los scripts de R
â”‚   â”œâ”€â”€ 1\_puntos\_muestreo.R
â”‚   â”œâ”€â”€ 2\_convertir\_coordenadas.R
â”‚   â”œâ”€â”€ 3\_series\_de\_tiempo\_rgee.R
â”‚   â””â”€â”€ 4\_procesamiento\_fenologico.R
â””â”€â”€ README.md

```

---

##  workflow Flujo de Trabajo y Uso de Scripts

Los scripts estÃ¡n diseÃ±ados para ser ejecutados en un orden secuencial. Cada uno realiza una tarea especÃ­fica y genera los archivos de entrada para el siguiente.

### **1. `1_puntos_muestreo.R`**
* **PropÃ³sito**: Genera un conjunto de puntos de muestreo aleatorios dentro de un Ã¡rea de interÃ©s (ej. una comuna), asegurando una distancia mÃ­nima entre ellos para evitar la autocorrelaciÃ³n espacial.
* **Entrada**: Un shapefile con los polÃ­gonos del Ã¡rea de interÃ©s (ej. `comunas.shp`).
* **Salida**: Un shapefile con los puntos de muestreo generados.

### **2. `2_convertir_coordenadas.R`**
* **PropÃ³sito**: Convierte una tabla de coordenadas (ej. desde un archivo Excel) en un archivo espacial shapefile. Este script es una alternativa al paso 1 si ya se cuenta con puntos de muestreo predefinidos.
* **Entrada**: Un archivo Excel (`.xlsx`) con columnas de Longitud y Latitud.
* **Salida**: Un shapefile de puntos con el sistema de coordenadas proyectadas (UTM) especificado.

### **3. `3_series_de_tiempo_rgee.R`**
* **PropÃ³sito**: Extrae las series de tiempo de los Ã­ndices de vegetaciÃ³n (NDVI, EVI, GNDVI, NDMI) para cada punto de muestreo. El proceso se realiza en la nube utilizando **Google Earth Engine**, lo que evita la necesidad de descargar y procesar imÃ¡genes satelitales localmente.
* **Entrada**: Un archivo de puntos de muestreo (generado en el paso 1 o 2).
* **Salida**: Archivos `.csv` y `.rds` que contienen la serie de tiempo completa para todos los puntos e Ã­ndices.

### **4. `4_procesamiento_fenologico.R`**
* **PropÃ³sito**: Toma las series de tiempo generadas en el paso anterior y aplica modelos fenolÃ³gicos para detectar las fechas clave del ciclo de la vegetaciÃ³n (Inicio, Peak, Senescencia, Final). Utiliza los paquetes `greenbrown` y `strucchange`.
* **Entrada**: El archivo de series de tiempo (`.rds`) del script anterior.
* **Salida**: Un archivo `.csv` con las fechas de los puntos de quiebre para cada punto e Ã­ndice.

---

## âœï¸ Autores

* **Laboratorio de AdaptaciÃ³n ClimÃ¡tica y GestiÃ³n del Bosque**


